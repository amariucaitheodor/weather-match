(this["webpackJsonpweather-match"]=this["webpackJsonpweather-match"]||[]).push([[0],{125:function(e,t,a){},150:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(12),c=a.n(r),s=(a(124),a(125),a(83)),o=a(84),l=a(20),d=a(106),h=a(105),b=a(218),u=a(29),p=a(24),m=a(3),g=a(201),j=a(202),O=a(221),y=a(89),x=a.n(y),w=a(90),f=a.n(w),C=a(203),v=a(200),S=a(9),k=a(52),T=a(91),I=a.n(T),F=a(92),N=a.n(F),W=a(93),P=a.n(W),R=a(195),B=a(196),E=a(197),H=a(198),z=a(199),D=a(85),L=a.n(D),A=a(86),_=a.n(A),M=a(87),q=a.n(M),G=a(88),J=a.n(G),U=a(192),V=a(2);function $(e){return Object(V.jsxs)(U.a,{id:e.id,open:e.open,anchorEl:e.anchorEl,onClose:function(){e.setAnchorEl(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[Object(V.jsxs)(R.a,{component:"nav","aria-label":"category sort area",children:[Object(V.jsxs)(B.a,{button:!0,selected:0===e.selectedSortCategoryIndex,onClick:function(t){return e.handleSortCategoryClick(t,0)},"aria-label":"alphabetical sort",children:[Object(V.jsx)(E.a,{children:Object(V.jsx)(L.a,{})}),Object(V.jsx)(H.a,{primary:"Alphabetical"})]}),Object(V.jsxs)(B.a,{button:!0,selected:1===e.selectedSortCategoryIndex,onClick:function(t){return e.handleSortCategoryClick(t,1)},"aria-label":"temperature sort",children:[Object(V.jsx)(E.a,{children:Object(V.jsx)(_.a,{})}),Object(V.jsx)(H.a,{primary:"Temperature"})]}),Object(V.jsxs)(B.a,{button:!0,selected:2===e.selectedSortCategoryIndex,onClick:function(t){return e.handleSortCategoryClick(t,2)},"aria-label":"humidity sort",children:[Object(V.jsx)(E.a,{children:Object(V.jsx)(q.a,{})}),Object(V.jsx)(H.a,{primary:"Humidity"})]}),Object(V.jsxs)(B.a,{button:!0,selected:3===e.selectedSortCategoryIndex,onClick:function(t){return e.handleSortCategoryClick(t,3)},"aria-label":"wind sort",children:[Object(V.jsx)(E.a,{children:Object(V.jsx)(J.a,{})}),Object(V.jsx)(H.a,{primary:"Wind speed"})]})]}),Object(V.jsx)(z.a,{}),Object(V.jsxs)(R.a,{component:"nav","aria-label":"type sort area",children:[Object(V.jsx)(B.a,{button:!0,selected:0===e.selectedSortTypeIndex,onClick:function(t){return e.handleSortTypeClick(t,0)},"aria-label":"ascending sort",children:Object(V.jsx)(H.a,{primary:"Ascending"})}),Object(V.jsx)(B.a,{button:!0,selected:1===e.selectedSortTypeIndex,onClick:function(t){return e.handleSortTypeClick(t,1)},"aria-label":"descending sort",children:Object(V.jsx)(H.a,{primary:"Descending"})})]})]})}var K=Object(v.a)((function(e){return{menuButtonLeft:{marginRight:e.spacing(2)},menuButtonRight:{marginLeft:e.spacing(2)},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(300,"px)"),marginLeft:300,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},title:Object(p.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(p.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(S.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(S.d)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(p.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}}),hide:{display:"none"}}}));function Q(e){var t=K(),a=i.a.useState(null),n=Object(u.a)(a,2),r=n[0],c=n[1],s=Boolean(r),o=s?"simple-popover":void 0;return Object(V.jsx)(g.a,{position:"fixed",className:Object(m.a)(t.appBar,Object(p.a)({},t.appBarShift,e.drawerIsOpen)),children:Object(V.jsxs)(j.a,{children:[Object(V.jsx)(C.a,{className:Object(m.a)(t.menuButtonLeft,e.drawerIsOpen&&t.hide),onClick:e.toggleDrawer,color:"inherit","aria-label":"open left drawer","data-testid":"toggleDrawerTestId",children:Object(V.jsx)(x.a,{})}),Object(V.jsx)(k.a,{className:t.title,variant:"h6",noWrap:!0,align:"left",children:"Weather Match"}),Object(V.jsxs)("div",{className:t.search,children:[Object(V.jsx)("div",{className:t.searchIcon,children:Object(V.jsx)(f.a,{})}),Object(V.jsx)(O.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},onChange:function(t){return e.searchCities(t.target.value)}})]}),Object(V.jsx)(C.a,{className:Object(m.a)(t.menuButtonRight),onClick:e.changeTheme,color:"inherit","aria-label":"toggle dark mode",children:"light"===e.theme?Object(V.jsx)(I.a,{}):Object(V.jsx)(N.a,{})}),Object(V.jsx)(C.a,{className:Object(m.a)(t.menuButtonRight),onClick:function(e){c(e.currentTarget)},color:"inherit","aria-describedby":o,"aria-label":"sort results",children:Object(V.jsx)(P.a,{})}),Object(V.jsx)($,{setAnchorEl:c,id:o,open:s,anchorEl:r,selectedSortCategoryIndex:e.selectedSortCategoryIndex,selectedSortTypeIndex:e.selectedSortTypeIndex,handleSortTypeClick:e.handleSortTypeClick,handleSortCategoryClick:e.handleSortCategoryClick})]})})}var X=a(37),Y=a(100),Z=a.n(Y),ee=a(101),te=a.n(ee),ae=a(220),ne=a(223),ie=Object(v.a)({root:{width:220}});function re(e){var t=ie(),a=[{value:e.range[0],label:e.range[0]+" "+e.unit},{value:e.range[1],label:e.range[1]+" "+e.unit}];return Object(V.jsxs)("div",{className:"m-auto "+t.root,children:[Object(V.jsx)(k.a,{id:"range-slider",gutterBottom:!0,children:e.title}),Object(V.jsx)(ne.a,{value:e.value,onChange:e.handleChange,valueLabelDisplay:"auto","aria-labelledby":"range-slider",min:e.range[0],max:e.range[1],marks:a})]})}var ce=a(206),se=a(21),oe=a(222),le=a(23),de=a(107),he=a(94),be=a.n(he),ue=a(96),pe=a.n(ue),me=a(97),ge=a.n(me),je=a(98),Oe=a.n(je),ye=a(63),xe=a(204),we=a(224),fe=a(205),Ce=a(95),ve=a.n(Ce),Se=["className","message","onClose","variant"],ke={success:be.a,warning:ve.a,error:pe.a,info:ge.a},Te=Object(v.a)((function(e){return{success:{backgroundColor:ye.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:xe.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Ie(e){var t=Te(),a=e.className,n=e.message,i=e.onClose,r=e.variant,c=Object(de.a)(e,Se),s=ke[r];return Object(V.jsx)(fe.a,Object(X.a)({className:Object(m.a)(t[r],a),"aria-describedby":"client-snackbar",message:Object(V.jsxs)("span",{id:"client-snackbar",className:t.message,children:[Object(V.jsx)(s,{className:Object(m.a)(t.icon,t.iconVariant)}),n]}),action:[Object(V.jsx)(C.a,{"aria-label":"close information bar",color:"inherit",onClick:i,children:Object(V.jsx)(Oe.a,{className:t.icon})},"close")]},c))}function Fe(e){var t=function(){e.setSnackbar(!1)};return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(we.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:e.show,autoHideDuration:6e3,onClose:t,children:Object(V.jsx)(Ie,{onClose:t,variant:e.type,message:e.msg})})})}var Ne,We=a(99),Pe=a.n(We),Re=a(38),Be=a.n(Re),Ee=Be.a.CancelToken;function He(e){var t=Object(se.a)(),a=i.a.useCallback(Object(le.a)(650,(function(){navigator.geolocation.getCurrentPosition(c,s,r)})),[]),n=Object(oe.a)(ce.a)({background:"linear-gradient(45deg, ".concat(t.palette.primary.dark," 30%, ").concat(t.palette.primary.main," 90%)")}),r={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};function c(t){Ne&&Ne();var a=t.coords;Be.a.get("https://weather-match.herokuapp.com/api/v1/closestcity",{params:{latitude:a.latitude,longitude:a.longitude},cancelToken:new Ee((function(e){Ne=e}))}).then((function(t){204===t.status?(g("error"),x("Closest city could not be found, database might be empty.")):(g("success"),x("Successfully retrieved local weather conditions for ".concat(t.data.name,", ").concat(t.data.country,"!")),e.changeTemp(null,[t.data.temperature,t.data.temperature]),e.changeHumidity(null,[t.data.humidity-1,t.data.humidity+1]),e.changeWind(null,[t.data.windspeed-1,t.data.windspeed+1]),["Clear","Clouds","Rain","Drizzle","Snow","Thunderstorm"].indexOf(t.data.main)>-1?e.changeWeatherFilterToExclusively(t.data.main):e.changeWeatherFilterToExclusively("Other")),h(!0)})).catch((function(e){Be.a.isCancel(e)||("Network Error"!==e.message&&console.error("Error when loading items: "+e.message),g("error"),x("A network connection to the weather database could not be established."),h(!0))})).finally((function(){Ne=void 0}))}function s(e){console.error("ERROR(".concat(e.code,"): ").concat(e.message)),g("error"),x("An error occured while retrieving GPS coordinates."),h(!0)}var o=i.a.useState(!1),l=Object(u.a)(o,2),d=l[0],h=l[1],b=i.a.useState("info"),p=Object(u.a)(b,2),m=p[0],g=p[1],j=i.a.useState("Currently this snackbar has not been configured."),O=Object(u.a)(j,2),y=O[0],x=O[1];return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(n,{className:"m-auto",startIcon:Object(V.jsx)(Pe.a,{}),variant:"contained",color:"primary",onClick:a,children:"Match my location"}),Object(V.jsx)(Fe,{show:d,setSnackbar:h,type:m,msg:y})]})}var ze=a(219),De=a(208),Le=a(207),Ae=a(209),_e=Object(v.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:240},title:Object(p.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),drawer:{width:300,flexShrink:0},drawerPaper:{width:300},drawerHeader:Object(X.a)(Object(X.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"})}}));function Me(e){var t=_e(),a=Object(se.a)(),n=i.a.useState([e.tempStartRange[0],e.tempStartRange[1]]),r=Object(u.a)(n,2),c=r[0],s=r[1],o=i.a.useState([e.humidityStartRange[0],e.humidityStartRange[1]]),l=Object(u.a)(o,2),d=l[0],h=l[1],b=i.a.useState([e.windStartRange[0],e.windStartRange[1]]),p=Object(u.a)(b,2),m=p[0],g=p[1],j=function(t,a){s(a),e.changeTempFilter(a)},O=function(t,a){h(a),e.changeHumidityFilter(a)},y=function(t,a){g(a),e.changeWindFilter(a)};return Object(V.jsxs)(ae.a,{className:t.drawer,variant:"persistent",anchor:"left",open:e.drawerIsOpen,classes:{paper:t.drawerPaper},children:[Object(V.jsxs)("div",{className:t.drawerHeader,children:[Object(V.jsx)(k.a,{className:t.title,variant:"h6",noWrap:!0,align:"center",children:"Match Options"}),Object(V.jsx)(C.a,{onClick:e.toggleDrawer,"aria-label":"close drawer",children:"ltr"===a.direction?Object(V.jsx)(Z.a,{}):Object(V.jsx)(te.a,{})})]}),Object(V.jsx)(z.a,{}),Object(V.jsx)(Le.a,{className:"m-auto "+t.formControl,children:Object(V.jsx)(De.a,{children:e.weatherStates.map((function(t){return Object(V.jsx)(Ae.a,{className:"m-0",control:Object(V.jsx)(ze.a,{checked:e.weatherFilter.indexOf(t)>-1,onChange:function(t){return e.changeWeatherFilter(t.target.value)},value:t,color:"primary"}),label:t},t)}))})}),Object(V.jsx)(re,{title:"Temperature range",range:e.tempStartRange,handleChange:j,value:c,unit:"\xb0C"}),Object(V.jsx)(re,{title:"Humidity range",range:e.humidityStartRange,handleChange:O,value:d,unit:"%"}),Object(V.jsx)(re,{title:"Wind speed range",range:e.windStartRange,handleChange:y,value:m,unit:"m/s"}),Object(V.jsx)(He,{networkProblems:e.networkProblems,changeTemp:j,changeHumidity:O,changeWind:y,changeWeatherFilterToExclusively:e.changeWeatherFilterToExclusively})]})}var qe=a(210),Ge=a(211),Je=a(213),Ue=a(212),Ve=a(104),$e=a(71),Ke=a.n($e),Qe=a(72),Xe=a.n(Qe),Ye=Object(Ve.a)({palette:{primary:Ke.a,secondary:Xe.a,type:"light"},status:{danger:"red"}}),Ze=Object(Ve.a)({palette:{primary:Ke.a,secondary:Xe.a,type:"dark"},status:{danger:"red"}}),et=Object(v.a)({card:{width:200,height:320},media:{height:115}});function tt(e){var t=e.city,a=et();return Object(V.jsx)(qe.a,{className:a.card,children:Object(V.jsxs)(Ge.a,{children:[Object(V.jsx)(Ue.a,{className:a.media,image:t.image,title:t.main}),Object(V.jsxs)(Je.a,{children:[Object(V.jsx)(k.a,{noWrap:!0,gutterBottom:!0,variant:"h6",component:"h2",children:t.name}),Object(V.jsxs)(k.a,{variant:"body2",color:"textSecondary",component:"p",children:["Country: ",t.country]}),Object(V.jsxs)(k.a,{variant:"body2",color:"textSecondary",component:"p",children:["Weather: ",t.main]}),Object(V.jsxs)(k.a,{variant:"body2",color:"textSecondary",component:"p",children:["Temperature: ",t.temperature," \xb0C"]}),Object(V.jsxs)(k.a,{variant:"body2",color:"textSecondary",component:"p",children:["Humidity: ",t.humidity," %"]}),Object(V.jsxs)(k.a,{variant:"body2",color:"textSecondary",component:"p",children:["Wind speed: ",t.windspeed," m/s"]}),Object(V.jsxs)(k.a,{variant:"body2",color:"textSecondary",component:"p",children:["Date: ",t.timestamp.substring(0,10)]}),Object(V.jsxs)(k.a,{variant:"body2",color:"textSecondary",component:"p",children:["Time: ",t.timestamp.substring(11,16)," UTC"]})]})]})})}var at=a(214),nt=a.p+"static/media/no_network.698b0bc1.webp",it=a.p+"static/media/no_results.a763c7bc.webp";function rt(e){var t=e.status,a=e.retry,n=et();return Object(V.jsxs)(qe.a,{className:n.card,children:[Object(V.jsxs)(Ge.a,{children:[Object(V.jsx)(Ue.a,{className:n.media,image:"no_results"===t?it:nt,title:t}),Object(V.jsxs)(Je.a,{children:[Object(V.jsx)(k.a,{noWrap:!0,gutterBottom:!0,variant:"h6",component:"h2",children:"no_results"===t?"No results...":"No connection..."}),Object(V.jsx)(k.a,{variant:"body2",color:"textSecondary",component:"p",children:"no_results"===t?"We could not find any results.":"A network connection to the weather database could not be established."}),Object(V.jsx)(k.a,{variant:"body2",color:"textSecondary",component:"p",children:"no_results"===t?"Please consider different match options.":"Please try again later."})]})]}),Object(V.jsx)(at.a,{style:{justifyContent:"center"},children:Object(V.jsx)(ce.a,{size:"large",color:"primary",onClick:a,"aria-label":"retry connection",children:"Retry"})})]})}var ct=a(215),st=a(102),ot=a.n(st),lt=a(103),dt=a.n(lt),ht=a(216),bt=Object(v.a)((function(e){return{drawerHeader:Object(X.a)(Object(X.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:0},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:300}}}));function ut(e){var t,a,n,i=bt();return Object(V.jsxs)("main",{className:Object(m.a)(i.content,Object(p.a)({},i.contentShift,e.drawerIsOpen)),children:[Object(V.jsx)("div",{className:i.drawerHeader}),Object(V.jsxs)(ct.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3,children:[Object(V.jsxs)(ct.a,{container:!0,item:!0,justify:"center",spacing:3,children:[(t=e.filteredCities,a=e.networkProblems,n=e.showLoader,t.length>0||n?null:a?Object(V.jsx)(ct.a,{item:!0,children:Object(V.jsx)(rt,{retry:e.retry,status:"no_network"})}):Object(V.jsx)(ct.a,{item:!0,children:Object(V.jsx)(rt,{retry:e.retry,status:"no_results"})})),e.filteredCities.map((function(e){return Object(V.jsx)(ct.a,{item:!0,children:Object(V.jsx)(tt,{city:e})},e.id)}))]}),e.filteredCities.length>0?Object(V.jsxs)(ct.a,{item:!0,children:[Object(V.jsx)(C.a,{color:"primary",onClick:e.navigateBefore,"aria-label":"previous page",children:Object(V.jsx)(ot.a,{})}),Object(V.jsxs)(ce.a,{variant:"text",color:"primary","aria-label":"page city indices display",children:[e.currentPage*e.pageSize+1,"-",Math.min(e.totalCities,(e.currentPage+1)*e.pageSize)," of ",e.totalCities]}),Object(V.jsx)(C.a,{color:"primary",onClick:e.navigateNext,"aria-label":"next page",children:Object(V.jsx)(dt.a,{})})]}):null,e.showLoader?Object(V.jsx)(ht.a,{style:{position:"fixed",left:0,right:0,bottom:0},variant:"query"}):null]})]})}var pt=a.p+"static/media/1.49916d68.webp",mt=a.p+"static/media/0.851b5de4.webp",gt=a.p+"static/media/1.c8ad9385.webp",jt=a.p+"static/media/2.c69b1dee.webp",Ot=a.p+"static/media/3.d129bfda.webp",yt=a.p+"static/media/4.b96981c7.webp",xt=a.p+"static/media/5.7be9ce93.webp",wt=a.p+"static/media/6.e2b2e54c.webp",ft=a.p+"static/media/7.b3eee116.webp",Ct=a.p+"static/media/8.ecf83fe4.webp",vt=a.p+"static/media/9.b3a90b77.webp",St=a.p+"static/media/1.be443649.webp",kt=a.p+"static/media/2.2e1f1ca6.webp",Tt=a.p+"static/media/3.15b0911b.webp",It=a.p+"static/media/4.8c5530b8.webp",Ft=a.p+"static/media/5.392626b9.webp",Nt=a.p+"static/media/6.6ac2a9a8.webp",Wt=a.p+"static/media/7.98667d60.webp",Pt=a.p+"static/media/1.3c287eee.webp",Rt=a.p+"static/media/2.86d4cab7.webp",Bt=a.p+"static/media/3.0a2595b4.webp",Et=a.p+"static/media/4.7ea46c5a.webp",Ht=a.p+"static/media/5.d6ddf721.webp",zt=a.p+"static/media/6.498e6322.webp",Dt=a.p+"static/media/7.5c98e7c4.webp",Lt=a.p+"static/media/8.8432cf1a.webp",At=a.p+"static/media/9.93876775.webp",_t=a.p+"static/media/1.75914820.webp",Mt=a.p+"static/media/2.025f511f.webp",qt=a.p+"static/media/3.37dfa685.webp",Gt=a.p+"static/media/4.bb18f158.webp",Jt=a.p+"static/media/5.1a1ae284.webp",Ut=a.p+"static/media/6.e1a43f6b.webp",Vt=a.p+"static/media/1.7b8b4008.webp",$t=a.p+"static/media/2.6ca70f75.webp",Kt=a.p+"static/media/3.2fd65bb1.webp",Qt=a.p+"static/media/4.82b63147.webp",Xt=a.p+"static/media/1.742ab812.webp",Yt=[pt],Zt=[mt,gt,jt,Ot,yt,xt,wt,ft,Ct,vt],ea=[gt,jt,Ot,yt,xt,wt],ta=[St,kt,Tt,It,Ft,Nt,Wt],aa=[Pt,Rt,Bt,Et,Ht,zt,Dt,Lt,At],na=[_t,Mt,qt,Gt,Jt,Ut],ia=[Vt,$t,Kt,Qt],ra=[Xt];var ca,sa=a(217),oa=[-60,60],la=[0,100],da=[0,100],ha=["Clear","Clouds","Rain","Drizzle","Snow","Thunderstorm","Other"],ba="https://weather-match.herokuapp.com",ua=Be.a.CancelToken,pa=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(s.a)(this,a),(e=t.call(this)).handleSortCategoryClick=function(t,a){switch(a){case 0:e.setState({sortCategory:"name",selectedSortCategoryIndex:0},(function(){this.loadItems()}));break;case 1:e.setState({sortCategory:"temperature",selectedSortCategoryIndex:1},(function(){this.loadItems()}));break;case 2:e.setState({sortCategory:"humidity",selectedSortCategoryIndex:2},(function(){this.loadItems()}));break;case 3:e.setState({sortCategory:"windspeed",selectedSortCategoryIndex:3},(function(){this.loadItems()}));break;default:console.error("Unkown sort category index ".concat(a))}},e.handleSortTypeClick=function(t,a){e.setState({sortType:"desc"===e.state.sortType?"asc":"desc",selectedSortTypeIndex:a},(function(){this.loadItems()}))},e.changeWeatherFilter=function(t){var a=-1===e.state.weatherFilter.indexOf(t);e.setState({weatherFilter:a?e.state.weatherFilter.concat(t):e.state.weatherFilter.filter((function(e){return e!==t}))},(function(){this.loadItems()}))},e.changeWeatherFilterToExclusively=function(t){e.setState({weatherFilter:[t]},(function(){this.loadItems()}))},e.changeTempFilter=function(t){e.setState({tempFilter:t},(function(){this.loadItems()}))},e.changeHumidityFilter=function(t){e.setState({humidityFilter:t},(function(){this.loadItems()}))},e.changeWindFilter=function(t){e.setState({windFilter:t},(function(){this.loadItems()}))},e.state={cities:[],queryText:"",showLoader:!1,drawerIsOpen:!1,appTheme:"light",weatherFilter:[],tempFilter:oa,humidityFilter:la,windFilter:da,networkProblems:!0,totalCities:0,currentPage:0,totalPages:0,pageSize:14,sortCategory:"name",selectedSortCategoryIndex:0,sortType:"asc",selectedSortTypeIndex:0},e.toggleDrawer=e.toggleDrawer.bind(Object(l.a)(e)),e.searchCities=e.searchCities.bind(Object(l.a)(e)),e.changeTheme=e.changeTheme.bind(Object(l.a)(e)),e.changeWeatherFilter=e.changeWeatherFilter.bind(Object(l.a)(e)),e.changeTempFilter=e.changeTempFilter.bind(Object(l.a)(e)),e.changeHumidityFilter=e.changeHumidityFilter.bind(Object(l.a)(e)),e.changeWindFilter=e.changeWindFilter.bind(Object(l.a)(e)),e.loadItems=e.loadItems.bind(Object(l.a)(e)),e.navigateBefore=e.navigateBefore.bind(Object(l.a)(e)),e.navigateNext=e.navigateNext.bind(Object(l.a)(e));e.navigateBefore=Object(le.b)(500,e.navigateBefore),e.navigateNext=Object(le.b)(500,e.navigateNext),e.changeWeatherFilter=Object(le.b)(300,e.changeWeatherFilter);var n=550;return e.handleSortTypeClick=Object(le.a)(n,e.handleSortTypeClick),e.handleSortCategoryClick=Object(le.a)(n,e.handleSortCategoryClick),e.searchCities=Object(le.a)(n,e.searchCities),e.changeTempFilter=Object(le.a)(n,e.changeTempFilter),e.changeHumidityFilter=Object(le.a)(n,e.changeHumidityFilter),e.changeWindFilter=Object(le.a)(n,e.changeWindFilter),e}return Object(o.a)(a,[{key:"toggleDrawer",value:function(){this.setState({drawerIsOpen:!this.state.drawerIsOpen})}},{key:"changeTheme",value:function(){this.setState({appTheme:"light"===this.state.appTheme?"dark":"light"})}},{key:"navigateBefore",value:function(){this.state.currentPage>0&&this.loadItems(this.state.currentPage-1)}},{key:"navigateNext",value:function(){this.state.currentPage<this.state.totalPages-1&&this.loadItems(this.state.currentPage+1)}},{key:"searchCities",value:function(e){this.setState({queryText:e},(function(){this.loadItems()}))}},{key:"componentDidMount",value:function(){this.loadItems()}},{key:"loadItems",value:function(e){var t=this;ca&&ca();var a=ba+"/api/v1/cities";this.setState({showLoader:!0}),Be.a.get(a,{params:{prefix:this.state.queryText,humidity:this.state.humidityFilter[0],humidity2:this.state.humidityFilter[1],windspeed:this.state.windFilter[0],windspeed2:this.state.windFilter[1],temperature:this.state.tempFilter[0],temperature2:this.state.tempFilter[1],main:this.state.weatherFilter+"",page:void 0===e?0:e,size:this.state.pageSize,sort:this.state.sortCategory+","+this.state.sortType},cancelToken:new ua((function(e){ca=e}))}).then((function(e){if(204!==e.status){var a=e.data.content.map((function(e){return e.image=function(e,t){function a(e,t){return Math.floor(Math.random()*(t-e+1))+e}switch(e){case"Clear":return t?Zt[a(0,Zt.length-1)]:ea[a(0,ea.length-1)];case"Clouds":return t?ta[a(0,ta.length-1)]:aa[a(0,aa.length-1)];case"Rain":case"Drizzle":return na[a(0,na.length-1)];case"Snow":return ia[a(0,ia.length-1)];case"Thunderstorm":return ra[a(0,ra.length-1)];default:return Yt[a(0,Yt.length-1)]}}(e.main,e.daytime),e}));t.setState({cities:a,networkProblems:!1,totalCities:e.data.totalElements,currentPage:e.data.pageable.pageNumber,totalPages:e.data.totalPages})}else t.setState({cities:[],networkProblems:!1})})).catch((function(e){Be.a.isCancel(e)||("Network Error"!==e.message&&console.error("Error when loading items: "+e.message),t.setState({networkProblems:!0}))})).finally((function(){ca=void 0,t.setState({showLoader:!1})}))}},{key:"render",value:function(){var e=this;return Object(V.jsxs)(sa.a,{theme:"light"===this.state.appTheme?Ye:Ze,children:[Object(V.jsx)(b.a,{}),Object(V.jsx)(Q,{toggleDrawer:this.toggleDrawer,drawerIsOpen:this.state.drawerIsOpen,searchCities:this.searchCities,changeTheme:this.changeTheme,theme:this.state.appTheme,selectedSortCategoryIndex:this.state.selectedSortCategoryIndex,selectedSortTypeIndex:this.state.selectedSortTypeIndex,handleSortTypeClick:this.handleSortTypeClick,handleSortCategoryClick:this.handleSortCategoryClick}),Object(V.jsx)(Me,{drawerIsOpen:this.state.drawerIsOpen,toggleDrawer:this.toggleDrawer,weatherFilter:this.state.weatherFilter,changeWeatherFilter:this.changeWeatherFilter,changeWeatherFilterToExclusively:this.changeWeatherFilterToExclusively,weatherStates:ha,tempStartRange:oa,changeTempFilter:this.changeTempFilter,humidityStartRange:la,changeHumidityFilter:this.changeHumidityFilter,windStartRange:da,changeWindFilter:this.changeWindFilter,networkProblems:this.state.networkProblems}),Object(V.jsx)(ut,{drawerIsOpen:this.state.drawerIsOpen,filteredCities:this.state.cities,retry:function(){return e.loadItems()},showLoader:this.state.showLoader,totalCities:this.state.totalCities,currentPage:this.state.currentPage,pageSize:this.state.pageSize,networkProblems:this.state.networkProblems,navigateBefore:this.navigateBefore,navigateNext:this.navigateNext})]})}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(V.jsx)(pa,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[150,1,2]]]);